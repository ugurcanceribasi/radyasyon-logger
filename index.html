<!DOCTYPE html>
<html>
<head>
  <title>Radyasyon Log Watcher</title>
  <style>
    body { background: #f3f4f6; width: 100%; margin: 0; padding-bottom: 3rem; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
    .info {
      color: #38bdf8;
    }
    .error {
      color: #f87171;
    }
    .warn {
      color: #ca8a04;
    }
    ul li {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h2>Radyasyon Log Watcher</h2>
  <ul id="logs"></ul>
</body>
<script src="https://momentjs.com/downloads/moment.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io();
  const logsDiv = document.getElementById("logs");
  socket.on('log', function(msg) {
    console.log(msg);
    logsDiv.innerHTML += "<li><b>"+moment().format('LT')+"</b> : "+msg+"</li>";
  });
  socket.on('info', function(msg) {
    console.info(msg);
    logsDiv.innerHTML += "<li class='info'><b>"+moment().format('LT')+"</b> : "+msg+"</li>";
  });
  socket.on('warn', function(msg) {
    console.warn(msg);
    logsDiv.innerHTML += "<li class='warn'><b>"+moment().format('LT')+"</b> : "+msg+"</li>";
  });
  socket.on('error', function(msg) {
    console.error(msg);
    logsDiv.innerHTML += "<li class='error'><b>"+moment().format('LT')+"</b> : "+msg+"</li>";
  });
</script>
</html>
